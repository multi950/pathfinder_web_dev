<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="../css/general_style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>

<body>
    <div class="content">
        <form id="registerForm" action="/users" method="post"><br>
            <input type="email" placeholder="Email" id="email" name="email"><br>
            <input type="password" placeholder="Password" id="password" name="password"><br>
            <input type="password" placeholder="Verify password" id="verify_password" name="verify_password"><br>
            <input type="submit" value="Register"></b>
        </form>
    </div>
    <script type="module">
        import { handleForm } from "../javascript/ajax/forms.js";
        handleForm("registerForm", 
        function(response){
        if(response.success == 1){
            console.log("Registration complete!");
            window.location.href='login.html'
        } else {
            console.log("incorrect email or pass")
        }
    }, function(){
        console.log($("#password").val());

        if ($("#password").val() !== $("#verify_password").val()){
            alert("Passwords mismatch");
            console.log("mismatchpass");
                return false;
            }
            else return true;
        });    
</script>
</body>

</html>